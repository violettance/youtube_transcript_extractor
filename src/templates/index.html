<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>YouTube Transcript Extractor</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}" />
</head>
<body>
  <div class="container">
    <header class="text-center my-5 position-relative">
      <h1>YouTube Transcript Extractor</h1>
      <p class="lead">Enter a YouTube video or playlist link to get all subtitles in a single transcript</p>
      <div id="themeToggleContainer">
        <label class="theme-switch mb-0">
          <input class="theme-switch-input" type="checkbox" id="themeToggle" />
          <span class="theme-switch-label">Dark Mode</span>
        </label>
      </div>
    </header>

    <!-- ðŸ‘‡ EÅŸit hizalanmÄ±ÅŸ kartlar -->
    <div class="centered-card-container">
      <div class="card-width-alert">
        <div class="alert alert-warning" role="alert">
          <h4 class="alert-heading">Important Note: YouTube API Limitations</h4>
          <p>YouTube blocks API requests from cloud environments (AWS, Google Cloud, Azure, etc.). Therefore, subtitle extraction may fail when running this application in a cloud environment.</p>
          <hr />
          <p class="mb-0">For best results, it is recommended to run the application locally on your computer. You can use the link at the bottom of the page to download the source code.</p>
        </div>
      </div>

      <div class="card">
        <div class="card-body">
          <ul class="nav nav-tabs mb-3" id="urlTypeTabs" role="tablist">
            <li class="nav-item" role="presentation">
              <button class="nav-link active" id="video-tab" data-bs-toggle="tab" data-bs-target="#video" type="button" role="tab">Single Video</button>
            </li>
            <li class="nav-item" role="presentation">
              <button class="nav-link" id="playlist-tab" data-bs-toggle="tab" data-bs-target="#playlist" type="button" role="tab">Playlist</button>
            </li>
          </ul>

          <form id="transcriptForm">
            <div class="tab-content" id="urlTypeTabsContent">
              <div class="tab-pane fade show active" id="video" role="tabpanel">
                <div class="mb-3">
                  <label for="videoUrl" class="form-label">YouTube Video URL</label>
                  <input type="text" class="form-control" id="videoUrl" placeholder="https://www.youtube.com/watch?v=..." required />
                  <div class="form-text">Example: https://www.youtube.com/watch?v=IB7OroiVwPA</div>
                </div>
              </div>

              <div class="tab-pane fade" id="playlist" role="tabpanel">
                <div class="mb-3">
                  <label for="playlistUrl" class="form-label">YouTube Playlist URL</label>
                  <input type="text" class="form-control" id="playlistUrl" placeholder="https://www.youtube.com/playlist?list=..." />
                  <div class="form-text">Example: https://www.youtube.com/watch?v=IB7OroiVwPA&list=PLVxfBEU9q9SL3U_Nw_RZCxCKd5x9xPXSx</div>
                </div>

                <div class="mb-3">
                  <label for="maxVideos" class="form-label">Maximum Number of Videos</label>
                  <input type="number" class="form-control" id="maxVideos" value="50" min="1" max="200" />
                  <div class="form-text">Maximum number of videos to extract from playlist (1â€“200)</div>
                </div>
              </div>
            </div>

            <div class="mb-3">
              <label for="language" class="form-label">Subtitle Language</label>
              <select class="form-select" id="language">
                <option value="en" selected>English</option>
                <option value="tr">Turkish</option>
                <option value="de">German</option>
                <option value="fr">French</option>
                <option value="es">Spanish</option>
              </select>
            </div>

            <div class="d-grid">
              <button type="submit" class="btn btn-primary" id="extractBtn">Extract Transcript</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Loading Section -->
    <div id="loadingSection" class="text-center my-4 d-none">
      <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
      <p class="mt-2">Extracting transcripts, please wait...</p>
      <div class="progress mt-2">
        <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 100%"></div>
      </div>
    </div>

    <!-- Summary Section -->
    <div id="summarySection" class="my-4 d-none">
      <div class="card">
        <div class="card-header bg-info text-white">
          <h5 class="mb-0">Process Summary</h5>
        </div>
        <div class="card-body">
          <div class="row">
            <div class="col-md-3 text-center">
              <h6>Total Videos</h6>
              <span class="badge bg-primary rounded-pill" id="totalVideos">0</span>
            </div>
            <div class="col-md-3 text-center">
              <h6>Successful</h6>
              <span class="badge bg-success rounded-pill" id="successVideos">0</span>
            </div>
            <div class="col-md-3 text-center">
              <h6>Alternative Language</h6>
              <span class="badge bg-warning rounded-pill" id="fallbackVideos">0</span>
            </div>
            <div class="col-md-3 text-center">
              <h6>Failed</h6>
              <span class="badge bg-danger rounded-pill" id="failedVideos">0</span>
            </div>
          </div>
          <div class="mt-3 text-center" id="languageInfo"></div>
        </div>
      </div>
    </div>

    <!-- Result Section -->
    <div id="resultSection" class="my-4 d-none">
      <div class="card">
        <div class="card-header d-flex justify-content-between align-items-center">
          <h5 class="mb-0" id="contentTitle"></h5>
          <div>
            <button class="btn btn-sm btn-outline-primary" id="copyBtn">Copy</button>
            <button class="btn btn-sm btn-outline-success" id="downloadBtn">Download</button>
          </div>
        </div>
        <div class="card-body">
          <pre id="transcriptResult" class="transcript-text"></pre>
        </div>
      </div>
    </div>
  </div>

  <footer class="text-center py-4 mt-5">
    <p>Â© 2025 YouTube Transcript Extractor</p>
    <p><a href="https://github.com/violettance/youtube_transcript_extractor" target="_blank">Download Source Code</a></p>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
  <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>